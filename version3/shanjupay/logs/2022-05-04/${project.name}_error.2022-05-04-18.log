[${project.name}][${env:SERVER_PORT}] 2022-05-04 19:22:59,490 ERROR [http-nio-56050-exec-2][DirectJDKLog.java:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [/transaction] threw exception [Request processing failed; nested exception is org.apache.dubbo.rpc.RpcException: Failed to invoke the method createPayOrderByWeChatJSAPI in the service com.shanjupay.paymentagent.api.PayChannelAgentService. Tried 1 times of the providers [192.168.10.1:20896] (1/1) from the registry localhost:9090 on the consumer 192.168.48.139 using the dubbo version 2.7.3. Last error is: Invoke remote method timeout. method: createPayOrderByWeChatJSAPI, provider: dubbo://192.168.10.1:20896/com.shanjupay.paymentagent.api.PayChannelAgentService?anyhost=true&application=transaction-service&bean.name=ServiceBean:com.shanjupay.paymentagent.api.PayChannelAgentService&check=false&deprecated=false&dubbo=2.0.2&dynamic=true&generic=false&interface=com.shanjupay.paymentagent.api.PayChannelAgentService&lazy=false&methods=queryPayOrderByAli,queryPayOrderByWeChat,createPayOrderByAliWAP,createPayOrderByWeChatJSAPI&pid=6504&qos.enable=false&qos.port=22250&register=true&register.ip=192.168.48.139&release=2.7.3&remote.application=payment-agent-service&retries=-1&side=consumer&sticky=false&timeout=9000&timestamp=1651656113925, cause: org.apache.dubbo.remoting.TimeoutException: Waiting server-side response timeout by scan timer. start time: 2022-05-04 19:22:50.385, end time: 2022-05-04 19:22:59.399, client elapsed: 1 ms, server elapsed: 9011 ms, timeout: 9000 ms, request: Request [id=428, version=2.0.2, twoway=true, event=false, broken=false, data=RpcInvocation [methodName=createPayOrderByWeChatJSAPI, parameterTypes=[class com.shanjupay.paymentagent.api.conf.WXConfigParam, class com.shanjupay.paymentagent.api.dto.WeChatBean], arguments=[WXConfigParam(appId=wx5b29ee7394047c3b, appSecret=54ab66236c73e212a1f8f874b5d75a31, mchId=1624952138, key=12345678912345678912345678912345, returnUrl=aa), WeChatBean(appid=null, mchId=null, nonceStr=null, sign=null, body=向test13有限公司付款, outTradeNo=SJ1521812581203079168, totalFee=1, spbillCreateIp=171.43.242.150, notifyUrl=none, tradeType=null, openId=oD7gx6dDeN3yg4nwU0iJfbR076PA, storeId=null, attach=null)], attachments={path=com.shanjupay.paymentagent.api.PayChannelAgentService, interface=com.shanjupay.paymentagent.api.PayChannelAgentService, version=0.0.0, timeout=9000}]], channel: /192.168.10.1:54732 -> /192.168.10.1:20896] with root cause
org.apache.dubbo.remoting.TimeoutException: Waiting server-side response timeout by scan timer. start time: 2022-05-04 19:22:50.385, end time: 2022-05-04 19:22:59.399, client elapsed: 1 ms, server elapsed: 9011 ms, timeout: 9000 ms, request: Request [id=428, version=2.0.2, twoway=true, event=false, broken=false, data=RpcInvocation [methodName=createPayOrderByWeChatJSAPI, parameterTypes=[class com.shanjupay.paymentagent.api.conf.WXConfigParam, class com.shanjupay.paymentagent.api.dto.WeChatBean], arguments=[WXConfigParam(appId=wx5b29ee7394047c3b, appSecret=54ab66236c73e212a1f8f874b5d75a31, mchId=1624952138, key=12345678912345678912345678912345, returnUrl=aa), WeChatBean(appid=null, mchId=null, nonceStr=null, sign=null, body=向test13有限公司付款, outTradeNo=SJ1521812581203079168, totalFee=1, spbillCreateIp=171.43.242.150, notifyUrl=none, tradeType=null, openId=oD7gx6dDeN3yg4nwU0iJfbR076PA, storeId=null, attach=null)], attachments={path=com.shanjupay.paymentagent.api.PayChannelAgentService, interface=com.shanjupay.paymentagent.api.PayChannelAgentService, version=0.0.0, timeout=9000}]], channel: /192.168.10.1:54732 -> /192.168.10.1:20896
	at org.apache.dubbo.remoting.exchange.support.DefaultFuture.doReceived(DefaultFuture.java:189)
	at org.apache.dubbo.remoting.exchange.support.DefaultFuture.received(DefaultFuture.java:153)
	at org.apache.dubbo.remoting.exchange.support.DefaultFuture$TimeoutCheckTask.run(DefaultFuture.java:252)
	at org.apache.dubbo.common.timer.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:648)
	at org.apache.dubbo.common.timer.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:727)
	at org.apache.dubbo.common.timer.HashedWheelTimer$Worker.run(HashedWheelTimer.java:449)
	at java.lang.Thread.run(Thread.java:748)
[${project.name}][${env:SERVER_PORT}] 2022-05-04 19:26:07,201 ERROR [http-nio-56050-exec-3][DirectJDKLog.java:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [/transaction] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Illegal base64 character 2e] with root cause
java.lang.IllegalArgumentException: Illegal base64 character 2e
	at java.util.Base64$Decoder.decode0(Base64.java:714)
	at java.util.Base64$Decoder.decode(Base64.java:526)
	at java.util.Base64$Decoder.decode(Base64.java:549)
	at com.shanjupay.common.util.EncryptUtil.decodeUTF8StringBase64(EncryptUtil.java:60)
	at com.shanjupay.transaction.controller.PayController.payEntry(PayController.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:84)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:679)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
